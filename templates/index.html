{% extends "layout.html" %}

{% block head %}
Home
{% endblock %}

{% block body %}

<!-- Info -->
<section class="w-100 mx-auto pt-5 pb-4" style="background-color: #0072b1;  color: #ffffff">
    <h1 class="display-5 d-flex justify-content-center">Looking for a job?<br>Look no further.</h1>
    <p class="d-flex justify-content-center mt-3" style="font-size: 20px;">Just search for your role and where you want to work. It's that simple.</p>
</section>

<!-- Main form -->
<div class="w-75 mx-auto m-3 p-4" style="border-radius:15px; box-shadow:0px 0px 3px">
    <form action="/" method="POST">
        <div class="row">
            <div class="col">
                <input type="text" class="form-control me-2" name="occupation" placeholder="Occupation"
                    autocomplete="off">
            </div>
            <div class="col">
                <input type="text" class="form-control me-2" name="city" placeholder="City" autocomplete="off">
            </div>
        </div>
        <div class="d-flex justify-content-center">
            <button type="submit" class="btn mt-3 w-25" style="background-color:#0072b1; color:#ffffff">Search</button>
        </div>
    </form>
</div>

<!-- Display job listings -->
{% if table %}
<table class="table">
    {% for row in table %}
    <tr>
        {% for col in row %}
        {% if "http" in col%}
            <td><a href="{{ col }}">Click here</a></td>
        {% else %}
            <td>{{ col }}</td>
        {% endif %}
        {% endfor %}
    </tr>
    {% endfor %}
</table>
{% endif %}

<!-- Display errors -->
{% if error != 0 %}
<div class="mx-auto alert alert-danger mt-4 col-md-12 w-50 d-flex justify-content-center" role="alert" style>
    {{ error }}
</div>
{% endif %}

{% endblock %}